<!DOCTYPE html>
<html lang="en" class="wf-fontawesome-n4-active wf-active">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <base href="." target="_parent">

    <!-- Title Page -->
    <title>Order NOW!</title>

    <!-- CSS for Select2 from CDN with fallback -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/css/select2.min.css" rel="stylesheet" />
    <link href="/select2.min.css" rel="stylesheet" media="all">

    <!-- Icons font CSS -->
    <link href="/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="/font-awesome.min.css" rel="stylesheet" media="all">
    <!-- Font special for pages -->
    <link href="/css" rel="stylesheet">
    <!-- Main CSS -->
    <link href="/main.css" rel="stylesheet" media="all">
    <style type="text/css">
        .col_half1 { width: 30%; float: left; }
        .col_half2 { width: 70%; float: left; }
        .col_half3 { width: 50%; float: left; }
        .col_half4 { width: 50%; float: left; }
        .myselect {
            width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            display: none; /* Hide native select by default */
        }
        .myselect option {
            white-space: nowrap;
            width: 100%;
            border-bottom: 1px #ccc solid;
        }
        .Radio { display: inline-flex; align-items: center; }
        .Radio-Input { margin: 0 0.5rem 0; }
        .column-lx { flex: 1%; line-height: 1.2; margin-bottom: 7px; margin-top: 7px; display: block; vertical-align: middle; padding: 0.3em 0; align-items: center; }
        .column-l { flex: 60%; line-height: 1.2; margin-bottom: 7px; margin-top: 7px; display: block; vertical-align: middle; padding: 0.3em 0; align-items: center; padding-right: 8px; width: fit-content; min-width: min-content; max-width: max-content; }
        .column-lr { flex: 60%; line-height: 1.2; margin-bottom: 7px; margin-top: 7px; display: block; vertical-align: middle; padding: 0.3em 0; align-items: center; padding-right: 45px; width: fit-content; min-width: min-content; max-width: max-content; }
        .column-r { flex: 35%; line-height: 1.2; margin-bottom: 7px; margin-top: 7px; display: block; vertical-align: middle; padding: 0.3em 0; align-items: right; text-align: right; }
        .rowx { display: flex; }
        .btn--blue { background: #0000B2; }
        .btn--blue:hover { background: #3868cd; }
        select { color: #000000; }
        .label { color: #000000; display: none; }
        iframe {}
        @media screen and (max-width: 600px) {.divresimg {width: 345px;}}
        @media screen and (max-width: 412px) {.divresimg {width: 150px;}}
        @media screen and (max-width: 375px) {.divresimg {width: 140px;}}
        @media screen and (min-width: 601px) {.divresimg {width: 200px;}}
        @media screen and (min-width: 667px) and (max-width: 667px) {.divresimg {width: 150px;}}
        @media screen and (min-width: 413px) and (max-width: 666px) {.divresimg {width: 150px;}}
        @media screen and (max-width: 734px) {.divresimg {width: 100px;}}
        .divresbump {width: px;}
        @media screen and (max-width: 600px) {.divresbump {width: 345px; margin-left: -12px;}}
        @media screen and (max-width: 412px) {.divresbump {width: 350px; margin-left: -12px;}}
        @media screen and (max-width: 375px) {.divresbump {width: 260px; margin-left: -12px;}}
        @media screen and (min-width: 601px) {.divresbump {width: 550px; margin-left: -12px;}}
        @media screen and (min-width: 667px) and (max-width: 667px) {.divresbump {width: 280px; margin-left: -12px;}}
        @media screen and (min-width: 413px) and (max-width: 666px) {.divresbump {width: 480px; margin-left: -12px;}}
        @media screen and (max-width: 734px) {.divresbump {width: 200px; margin-left: -12px;}}
        @media screen and (max-width: 600px) {.sbn {padding-right: 20px; padding-left: 20px;}}
        @media screen and (max-width: 412px) {.sbn {padding-right: 10px; padding-left: 10px;}}
        @media screen and (max-width: 375px) {.sbn {padding-right: 10px; padding-left: 10px;}}
        @media screen and (min-width: 601px) {.sbn {padding-right: 40px; padding-left: 40px;}}
        @media screen and (min-width: 667px) and (max-width: 667px) {.sbn {padding-right: 50px; padding-left: 50px;}}
        @media screen and (min-width: 413px) and (max-width: 666px) {.sbn {padding-right: 50px; padding-left: 50px;}}
        @media screen and (max-width: 734px) {.sbn {padding-right: 10px; padding-left: 10px;}}
        .row { display: flex; width: 100%; margin-bottom: 20px; }
        .field-25 { flex: 0 0 30%; margin-right: 2px; }
        .field-75 { flex: 0 0 68%; }
        select, input[type="text"] { width: 100%; box-sizing: border-box; font-size: 16px; }
        .select2-container { width: 100% !important; display: block !important; z-index: 1000; }
        .select2-selection--single { border: 1px solid #ccc !important; border-radius: 12px !important; height: 50px !important; display: flex !important; align-items: center !important; }
        .select2-selection__rendered { line-height: 50px !important; padding-left: 10px !important; }
        .select2-selection__arrow { height: 50px !important; }
        /* Fallback for native select if Select2 fails */
        .select2-fallback .myselect { display: block !important; }
    </style>
    <link rel="stylesheet" href="/4ecc3dbb0b.css" media="all">
</head>

<body>
    <div class="page-wrapper font-poppins">
        <div class="wrapper wrapper--w680">
            <div class="card card-6 sbn" style="background-color: #000000; padding-top: 15px; padding-bottom: 15px;">
                <div class="card-body" style="background-color: #FFFFFF; padding: 10px; width: 100%">

                    <form method="POST" id="order_form" class="sniperform" action="">
                        <div style="margin: 10px">
                            <h2 align="center" style="font-size: 18px; color: #495057; font-family: Cambria;">Please Fill The Form Below To Place Your Order</h2>
                            <p align="center" style="color: #495057;"><b>Only Serious Buyers Should Fill The Form Below</b></p>
                        </div>

                        <div class="col-12"><div class="input-group">
                            <label class="label">Enter Your Full Name *</label>
                            <input class="input--style-4" type="text" name="name" id="name" value="" required="" placeholder="Enter Your Full Name *" style="-moz-border-radius: 12px;-webkit-border-radius: 12px;border-radius: 12px;height: 50px;font-size: 14px">
                        </div></div>

                        <input type="hidden" name="ccode1" id="phonecc" value="161">
                        <input type="hidden" name="ccode2" id="phonewa" value="161">
                        <label class="label">Enter Your Phone Number *</label>
                        <div class="col-12">
                            <div class="input-group">
                                <input class="input--style-4" type="number" name="phone" onblur="savePartialData()" id="phone" value="" required="" placeholder="Enter Your Phone Number *" style="-moz-border-radius: 12px;-webkit-border-radius: 12px;border-radius: 12px;height: 50px;font-size: 14px; width: 100% !important">
                                <span style="color: red; display: none;" id="phone_error"><b>Error: Phone number is not complete</b></span>
                            </div>
                        </div>

                        <label class="label">Enter Your WhatsApp Phone Number *</label>
                        <div class="col-12">
                            <div class="input-group">
                                <input class="input--style-4" type="number" name="waphone" id="waphone" value="" required="" placeholder="Enter Your WhatsApp Phone Number  *" style="-moz-border-radius: 12px;-webkit-border-radius: 12px;border-radius: 12px;height: 50px;font-size: 14px; width: 100% !important">
                            </div>
                        </div>

                        <div>
                            <div class="col-12"><div class="input-group">
                                <label class="label">Give Us A Detailed Address (Work or Home) *</label>
                                <input class="input--style-4" type="text" name="address" value="" id="address" required="" placeholder="Give Us A Detailed Address (Work or Home) *" style="-moz-border-radius: 12px;-webkit-border-radius: 12px;border-radius: 12px;height: 50px;font-size: 14px">
                            </div></div>
                        </div>

                        <label class="label">Click To Select Your State *</label>
                        <div class="rs-select2 js-select-simple select--no-search-dx select2-fallback">
                            <select name="state" id="state" class="myselect" style="-moz-border-radius: 12px;-webkit-border-radius: 12px;border-radius: 12px;height: 50px;font-size: 14px" required="">
                                <option value="" selected="selected">Click To Select Your State * </option>
                                <option value="Lagos">Lagos</option>
                                <option value="Abuja">Abuja</option>
                                <option value="Rivers">Rivers</option>
                                <option value="Abia">Abia</option>
                                <option value="Adamawa">Adamawa</option>
                                <option value="Akwa Ibom">Akwa Ibom</option>
                                <option value="Anambra">Anambra</option>
                                <option value="Bauchi">Bauchi</option>
                                <option value="Bayelsa">Bayelsa</option>
                                <option value="Benue">Benue</option>
                                <option value="Borno">Borno</option>
                                <option value="Cross River">Cross River</option>
                                <option value="Delta">Delta</option>
                                <option value="Ebonyi">Ebonyi</option>
                                <option value="Edo">Edo</option>
                                <option value="Ekiti">Ekiti</option>
                                <option value="Enugu">Enugu</option>
                                <option value="Gombe">Gombe</option>
                                <option value="Imo">Imo</option>
                                <option value="Jigawa">Jigawa</option>
                                <option value="Kaduna">Kaduna</option>
                                <option value="Kano">Kano</option>
                                <option value="Katsina">Katsina</option>
                                <option value="Kebbi">Kebbi</option>
                                <option value="Kogi">Kogi</option>
                                <option value="Kwara">Kwara</option>
                                <option value="Nasarawa">Nasarawa</option>
                                <option value="Niger">Niger</option>
                                <option value="Ogun">Ogun</option>
                                <option value="Ondo">Ondo</option>
                                <option value="Osun">Osun</option>
                                <option value="Oyo">Oyo</option>
                                <option value="Plateau">Plateau</option>
                                <option value="Sokoto">Sokoto</option>
                                <option value="Taraba">Taraba</option>
                                <option value="Yobe">Yobe</option>
                                <option value="Zamfara">Zamfara</option>
                            </select>
                        </div>
                        <br>

                        <label class="label">Click To Select Your Package *</label>
                        <div class="rs-select2 js-select-simple select--no-search-dx select2-fallback">
                            <select name="quantity" id="selectwrap" required="" class="myselect" style="-moz-border-radius: 12px;-webkit-border-radius: 12px;border-radius: 12px;height: 50px;font-size: 14px;">
                                <option value="">Click To Select Your Package *</option>
                                <option value="138924">Buy 1 Pack = ₦25,000</option>
                                <option value="138925">Buy 2 Pack = ₦48,000</option>
                                <option value="138926">Buy 3 Pack = ₦70,000</option>
                                <option value="138927">Buy 4 Pack = ₦90,000</option>
                            </select>
                        </div>
                        <p></p>
                        <br>

                        <table style="margin-bottom: -5px; border: 0; border-collapse: collapse;font-size: 14px; color: #495057; width: 100%" cellspacing="20">
                            <tbody>
                                <tr style="background-color: transparent; border: none;" id="c-statefeetable"></tr>
                                <tr style="background-color: transparent; border: none;" id="c-statefeetableqty"></tr>
                            </tbody>
                        </table>

                        <div style="font-size: 14px; display: none;" align="center" id="c-error"><label style="color: #ff0000"><strong> Coupon Code is invalid!</strong></label></div>
                        <div style="font-size: 14px; display: none;" align="center" id="cc-error"><label style="color: #ff0000"><strong> Please type Coupon Code...</strong></label></div>
                        <div style="font-size: 14px; display: none;" align="center" id="cc-qty"><label style="color: #ff0000"><strong> Please select product quantity above</strong></label></div>

                        <table style="margin-bottom: -5px; border-collapse: collapse; font-size: 14px; width: 100%; display: none;" cellspacing="20" id="c-table">
                            <tbody></tbody>
                        </table>
                        <br>

                        <div id="comtxt" style="display: none;"></div>

                        <div id="hide1" name="Cash On Delivery" align="left" style="display: ">
                            <label class="Radio">
                                <label class="radio-container m-r-45">
                                    <input type="radio" name="pgmain" class="Radio-Input" value="Cash On Delivery" checked="">
                                    <span class="checkmark"></span>
                                </label>
                                <img src="/cod.png" class="divresimg" style="margin-left: -25px;">
                            </label>
                            <br><br>
                        </div>

                        <div style="margin:auto" align="center">
                            <div style="font-size: 14px; display: none;" align="center" id="nameopt-error"><label style="color: #ff0000"><strong> Please type your name above</strong></label></div>
                            <div style="font-size: 14px; display: none;" align="center" id="phoneopt-error"><label style="color: #ff0000"><strong> Please type your phone number above</strong></label></div>
                            <div style="font-size: 14px; display: none;" align="center" id="addressopt-error"><label style="color: #ff0000"><strong> Please type your address above</strong></label></div>
                            <div style="font-size: 14px; display: none;" align="center" id="packageopt-error"><label style="color: #ff0000"><strong> Please select your package above</strong></label></div>
                            <div style="font-size: 14px; display: none;" align="center" id="var1-error"><label style="color: #ff0000"><strong> Please type quantity for product variation above</strong></label></div>
                            <div style="margin-bottom: 10px; font-size: 14px; color: #495057; font-family: Cambria" align="center"><strong> </strong></div>

                            <div class="p-t-15" align="center">
                                <button id="sniperbutton" class="btn btn--radius-2 btn--blue" type="submit" style="width: auto;font-size:15px;border-color: #000000;color: #FFFFFF;font-weight: bold;-moz-border-radius: 12px;-webkit-border-radius: 12px;border-radius: 12px;font-family: Cambria" name="submit">Place My Order</button><br>
                                <span style="color: red; display: none;" id="phone_errorx"><h2><b>Error: Phone number above is not complete</b></h2></span>
                            </div>

                            <input type="hidden" name="hpf" id="hpf" value="">
                            <input type="hidden" name="zq" id="zq" value="4374">
                            <input type="hidden" name="unx" id="unx" value="0">
                            <input type="hidden" name="pid" id="pid" value="22686">
                            <input type="hidden" name="bumppid" id="bumppid" value="0">
                            <input type="hidden" name="cid" id="cid" value="161">
                            <input type="hidden" name="fid" id="fid" value="d06cfb527c4374">
                            <input type="hidden" name="usp" value="0">
                            <input type="hidden" name="grk" value="">
                            <input type="hidden" name="pvar" id="pvar" value="">
                            <input type="hidden" name="addedby" value="">
                            <input type="hidden" name="parent_url" value="https://detox.com.ng/curvy/?fbclid=IwY2xjawK5CwhleHRuA2FlbQIxMABicmlkETFoMTM2c2pEU1JBd0Rud0lJAR6-p-rC3z63JXHyXzNGpf7kB7VwWwCfQ2As-ZvLbFvxFJnUz_hmxNW62h0Jsw_aem_n_ovL3fWGd4_Cp04gNOhCw">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery and Select2 JS from CDN with fallbacks -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>window.jQuery || document.write('<script src="/jquery-3.6.0.min.js"><\/script>')</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/js/select2.min.js"></script>
    <script>window.Select2 || document.write('<script src="/select2.min.js"><\/script>')</script>
    <!-- Other Vendor JS -->
    <script src="/webfontloader.js.download"></script>
    <script src="/moment.min.js.download"></script>
    <script src="/daterangepicker.js.download"></script>
    <!-- Main JS -->
    <script src="/global.js.download"></script>
    <script src="/btn.js.download"></script>
    <script src="/radioclick.js.download"></script>
    <script src="/btnfxnew.js.download"></script>
    <script src="/4ecc3dbb0b.js.download"></script>
    <script src="/iframeResizer.contentWindow.min.js.download"></script>

    <!-- Select2 Initialization with Enhanced Debugging -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM loaded, checking resources...');
        
        // Check resource loading
        function checkResource(url) {
            return fetch(url, { method: 'HEAD' })
                .then(res => res.ok ? 'Loaded' : 'Failed')
                .catch(() => 'Failed');
        }

        Promise.all([
            checkResource('https://code.jquery.com/jquery-3.6.0.min.js'),
            checkResource('/jquery-3.6.0.min.js'),
            checkResource('https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/js/select2.min.js'),
            checkResource('/select2.min.js'),
            checkResource('/main.css')
        ]).then(results => {
            console.log('Resource check:', {
                jQueryCDN: results[0],
                jQueryLocal: results[1],
                Select2CDN: results[2],
                Select2Local: results[3],
                MainCSS: results[4]
            });
        });

        try {
            // Check if jQuery is loaded
            if (typeof jQuery === 'undefined') {
                console.error('jQuery is not loaded. Waiting for fallback...');
                setTimeout(initSelect2, 1000); // Retry after 1s
                return;
            }
            initSelect2();
        } catch (e) {
            console.error('Initial check error:', e);
            setTimeout(initSelect2, 1000);
        }
    });

    function initSelect2() {
        try {
            if (typeof jQuery === 'undefined') {
                console.error('jQuery still not loaded.');
                showNativeSelects();
                return;
            }
            if (typeof $.fn.select2 === 'undefined') {
                console.error('Select2 is not loaded. Check CDN or local fallback.');
                showNativeSelects();
                return;
            }

            console.log('Initializing Select2 for #state and #selectwrap');

            // Destroy any existing Select2 instances
            jQuery('#state, #selectwrap').select2('destroy');

            // Initialize Select2
            jQuery('#state, #selectwrap').select2({
                minimumResultsForSearch: Infinity,
                placeholder: function() {
                    return jQuery(this).find('option:selected').text().trim();
                },
                width: '100%'
            }).on('select2:open', function() {
                console.log('Select2 dropdown opened for', this.id);
            });

            // Ensure Select2 containers are visible
            jQuery('.select2-container').css({
                'display': 'block',
                'visibility': 'visible',
                'opacity': 1,
                'z-index': 1000
            });

            // Hide native select elements
            jQuery('#state, #selectwrap').css('display', 'none');

            console.log('Select2 initialization completed');
        } catch (e) {
            console.error('Error during Select2 initialization:', e);
            showNativeSelects();
        }
    }

    function showNativeSelects() {
        console.log('Showing native select elements as fallback');
        jQuery('.select2-fallback').addClass('select2-fallback-active');
        jQuery('.select2-container').remove();
    }

    // Event listener for country (unchanged)
    jQuery(document).ready(function() {
        jQuery('#country').change(function() {
            var selectedCountry = jQuery(this).val();
            jQuery('#phonecc').val(selectedCountry);
            jQuery('#phonewa').val(selectedCountry);
        });
    });
    </script>

    <!-- Form Submission Script -->
    <script>
    jQuery(document).ready(function() {
        jQuery("#order_form").submit(function(event) {
            event.preventDefault();
            const submitButton = jQuery("#sniperbutton");
            
            // Basic validation
            const name = jQuery("#name").val().trim();
            const phone = jQuery("#phone").val().trim();
            const waphone = jQuery("#waphone").val().trim();
            const address = jQuery("#address").val().trim();
            const state = jQuery("#state").val().trim();
            const package = jQuery("#selectwrap").val().trim();

            if (!name) {
                jQuery("#nameopt-error").show().fadeOut(5000);
                return;
            }
            if (!phone || phone.length < 7) {
                jQuery("#phoneopt-error").show().fadeOut(5000);
                jQuery("#phone_error").show().fadeOut(5000);
                return;
            }
            if (!waphone) {
                jQuery("#phoneopt-error").show().fadeOut(5000);
                return;
            }
            if (!address) {
                jQuery("#addressopt-error").show().fadeOut(5000);
                return;
            }
            if (!state) {
                jQuery("#packageopt-error").show().fadeOut(5000);
                return;
            }
            if (!package) {
                jQuery("#packageopt-error").show().fadeOut(5000);
                return;
            }

            // Update button state
            submitButton.prop("disabled", true).css("opacity", "0.6").text("Submitting Your Order...");

            const scriptURL = "https://script.google.com/macros/s/AKfycbyIstPlZI9wgCIcH2AzdV9mAYyrgbfTIIU15V9iWUGIQqToelJjL5HBg3OTabMdKS_Tfw/exec";
            const formData = {
                name: name,
                phone: phone,
                waphone: waphone,
                address: address,
                state: state,
                package: jQuery("#selectwrap option:selected").text().trim()
            };

            fetch(scriptURL, {
                method: "POST",
                body: new URLSearchParams(formData)
            })
            .then(response => {
                if (response.ok) {
                    alert("Order submitted successfully!");
                    jQuery("#order_form")[0].reset();
                    jQuery('#state, #selectwrap').select2('destroy').select2({
                        minimumResultsForSearch: Infinity,
                        placeholder: function() {
                            return jQuery(this).find('option:selected').text().trim();
                        },
                        width: '100%'
                    });
                    jQuery('.select2-container').css({
                        'display': 'block',
                        'visibility': 'visible',
                        'opacity': 1
                    });
                    jQuery('#state, #selectwrap').css('display', 'none');
                } else {
                    alert("Submission failed. Try again.");
                }
                submitButton.prop("disabled", false).css("opacity", "1").text("Place My Order");
            })
            .catch(error => {
                console.error("Submission error:", error.message);
                alert("Something went wrong!");
                submitButton.prop("disabled", false).css("opacity", "1").text("Place My Order");
            });
        });
    });
    </script>

    <script>
    jQuery(document).ready(function() {
        jQuery("#productidbump").click(function() {
            if(jQuery(this).is(":checked")) {
                jQuery('.bumpquantity').attr('required', 'required');
                jQuery("#bumpqty").show();
            } else {
                jQuery('.bumpquantity').removeAttr('required');
                jQuery("#bumpqty").hide();
            }
        });
    });
    </script>

    <script>
    jQuery(document).ready(function() {
        var names = [''];
        jQuery('#state').change(function() {
            var state = jQuery('#state').val();
            if (jQuery.inArray(state, names)!='-1') {
                jQuery("#comtxt").hide();
                jQuery("#hide1").show();
                jQuery("#hide2").hide();
                jQuery("#hide3").hide();
                jQuery("#hide4").hide();
            } else {
                jQuery("#comtxt").show(); 
                jQuery("#hide1").hide();
                jQuery("#hide2").show();
                jQuery("#hide3").show();
                jQuery("#hide4").show();
            }
            if (names=='') {
                jQuery("#hide2").hide();
            }
        });
    });
    </script>

    <script>
    jQuery(document).ready(function() {
        jQuery('#state').on('change', function() {
            var state = jQuery(this).val();
            var storeid = jQuery("#zq").val();
            var unx = jQuery("#unx").val();
            if(state) {
                jQuery.ajax({
                    type: 'POST',
                    url: '/states_delfee.php',
                    data: {state: state, storeid: storeid, unx: unx},
                    success: function(html) {
                        jQuery('#c-statefeetable').html(html);
                    },
                    error: function(xhr, status, error) {
                        console.error('State AJAX error:', error);
                    }
                });
            }
        });
    });
    </script>

    <script>
    jQuery(document).ready(function() {
        jQuery('#selectwrap').on('change', function() {
            var quantity = jQuery(this).val();
            var storeid = jQuery("#zq").val();
            var delivery_fee = jQuery("#delivery_fee").val();
            var unx = jQuery("#unx").val();
            if(quantity) {
                jQuery.ajax({
                    type: 'POST',
                    url: '/states_delfeeqty.php',
                    data: {quantity: quantity, storeid: storeid, delivery_fee: delivery_fee, unx: unx},
                    success: function(html) {
                        jQuery('#c-statefeetableqty').html(html);
                    },
                    error: function(xhr, status, error) {
                        console.error('Quantity AJAX error:', error);
                    }
                });
            }
        });
    });
    </script>

    <script>
    jQuery(document).ready(function() {
        jQuery('#country').on('change', function() {
            var countryID = jQuery(this).val();
            if(countryID) {
                jQuery.ajax({
                    type: 'POST',
                    url: '/formframestates.php',
                    data: 'countryid='+countryID,
                    success: function(html) {
                        jQuery('#state').html(html);
                    },
                    error: function(xhr, status, error) {
                        console.error('Country states AJAX error:', error);
                    }
                });
            } else {
                jQuery('#state').html('<option value="">Select country first</option>');
            }
        });
    });
    </script>

    <script>
    jQuery(document).ready(function() {
        jQuery('#country').on('change', function() {
            var countryID = jQuery(this).val();
            var productid = jQuery("#pid").val();
            var storeid = jQuery("#zq").val();
            var pvar = jQuery("#pvar").val();
            var fid = jQuery("#fid").val();
            if(countryID) {
                jQuery.ajax({
                    type: 'POST',
                    url: '/formframeqty.php',
                    data: {countryid: countryID, productid: productid, storeid: storeid, pvar: pvar, fid: fid},
                    success: function(html) {
                        jQuery('#selectwrap').html(html);
                    },
                    error: function(xhr, status, error) {
                        console.error('Quantity AJAX error:', error);
                    }
                });
            } else {
                jQuery('#selectwrap').html('<option value="">Select Quantity</option>');
            }
        });
    });
    </script>

    <script>
    jQuery(document).ready(function() {
        jQuery('#country').on('change', function() {
            var countryID = jQuery(this).val();
            var productid = jQuery("#pid").val();
            var storeid = jQuery("#zq").val();
            var pvar = jQuery("#pvar").val();
            var fid = jQuery("#fid").val();
            if(countryID) {
                jQuery.ajax({
                    type: 'POST',
                    url: '/formframeqty2.php',
                    data: {countryid: countryID, productid: productid, storeid: storeid, pvar: pvar, fid: fid},
                    success: function(html) {
                        jQuery('#qtyradio').html(html);
                    },
                    error: function(xhr, status, error) {
                        console.error('Quantity 2 AJAX error:', error);
                    }
                });
            }
        });
    });
    </script>

    <script>
    jQuery(document).ready(function() {
        jQuery('#country').on('change', function() {
            var countryID = jQuery(this).val();
            var productid = jQuery("#bumppid").val();
            var storeid = jQuery("#zq").val();
            var pvar = jQuery("#pvar").val();
            var fid = jQuery("#fid").val();
            if(countryID) {
                jQuery.ajax({
                    type: 'POST',
                    url: '/formframeqty3.php',
                    data: {countryid: countryID, productid: productid, storeid: storeid, pvar: pvar, fid: fid},
                    success: function(html) {
                        jQuery('#bumpqtyradio').html(html);
                    },
                    error: function(xhr, status, error) {
                        console.error('Quantity 3 AJAX error:', error);
                    }
                });
            }
        });
    });
    </script>

    <script>
    jQuery(document).ready(function() {
        jQuery('#country').on('change', function() {
            var countryID = jQuery(this).val();
            var productid = jQuery("#bumppid").val();
            var storeid = jQuery("#zq").val();
            if(countryID) {
                jQuery.ajax({
                    type: 'POST',
                    url: '/formframeqtybump.php',
                    data: {countryid: countryID, productid: productid, storeid: storeid},
                    success: function(html) {
                        jQuery('.bumpquantity').html(html);
                    },
                    error: function(xhr, status, error) {
                        console.error('Bump quantity AJAX error:', error);
                    }
                });
            } else {
                jQuery('.bumpquantity').html('<option value="">Select Quantity</option>');
            }
        });
    });
    </script>

    <script>
    function savePartialData() {
        var phonenum = document.getElementById('phone').value;
        var customername = document.getElementById('name').value;
        var storeid = document.getElementById('zq').value;
        var productid = document.getElementById('pid').value;
        var formid = document.getElementById('fid').value;
        var phonecc = document.getElementById('phonecc').value;
        var cid = document.getElementById('cid').value;
        if (phonenum !== '' && phonenum.length < 7) {
            jQuery("#phone_error").show(1000);
            jQuery("#phone_errorx").show(1000);
            jQuery("#sniperbutton").prop('disabled', true);
            return;
        } else {
            jQuery("#phone_error").hide(1000);
            jQuery("#phone_errorx").hide(1000);
            jQuery("#sniperbutton").prop('disabled', false);
        }
        if (phonenum) {
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/form_cb.php", true);
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xhr.send("customername=" + encodeURIComponent(customername) + "&phonenum=" + encodeURIComponent(phonenum) + "&storeid=" + encodeURIComponent(storeid) + "&productid=" + encodeURIComponent(productid) + "&phonecc=" + encodeURIComponent(phonecc) + "&cid=" + encodeURIComponent(cid) + "&formid=" + encodeURIComponent(formid) + "&cb=1");
        }
    }
    </script>

    <script>
    window.addEventListener("message", function(event) {
        if (event.data && event.data.parentUrl) {
            var parentUrl = event.data.parentUrl;
            var hiddenField = document.createElement("input");
            hiddenField.type = "hidden";
            hiddenField.name = "parent_url";
            hiddenField.value = parentUrl;
            var form = document.getElementById("order_form");
            form.appendChild(hiddenField);
        }
    });
    </script>

    <script>
    function sendHeight() {
        var height = document.body.scrollHeight;
        window.parent.postMessage({ iframeHeight: height }, "*");
    }
    window.onload = sendHeight;
    window.addEventListener("resize", sendHeight);
    </script>

    <div style="clear: both; display: block; height: 0px;"></div>
</body>
</html>