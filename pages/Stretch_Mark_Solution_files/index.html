<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clear By Jane - Scar and Stretch Mark Treatment Order Form</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="form-container">
            <!-- Header -->
            <div class="header">
                <h1>Permanent Stretch Mark and Scar Remover</h1>
                <p>Professional Scar and Stretch Mark Treatment</p>
            </div>

            <form id="orderForm">
                <!-- Required Fields Notice -->
                <div class="notice">
                    <p>Fields marked with an <span class="required">*</span> are required</p>
                </div>

                <!-- Package Selection -->
                <div class="form-section">
                    <div class="section-header">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="m1 1 4 4 12.5 3L21 8H7"></path>
                        </svg>
                        <h2>Please Choose Your Package Now <span class="required">*</span></h2>
                    </div>
                    
                    <div class="package-options" id="selectwrap">
                        <label class="package-option">
                            <input type="radio" name="package" value="regular" data-price="22000" checked>
                            <span class="package-text">Regular Package (â‚¦22,000 Total)</span>
                        </label>
                        <label class="package-option">
                            <input type="radio" name="package" value="vip" data-price="40000">
                            <span class="package-text">VIP Package (â‚¦40,000 Total)</span>
                        </label>
                        <label class="package-option">
                            <input type="radio" name="package" value="vvip" data-price="58000">
                            <span class="package-text">VVIP Package (â‚¦58,000 Total)</span>
                        </label>
                    </div>
                </div>

                <!-- Personal Information -->
                <div class="form-grid">
                    <!-- Name -->
                    <div class="form-group">
                        <div class="label-with-icon">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <label>Full Name <span class="required">*</span></label>
                        </div>
                        <input type="text" id="name" name="name" placeholder="Please type in your full name" required>
                        <div class="error-message" id="nameError"></div>
                    </div>

                    <!-- Phone -->
                    <div class="form-group">
                        <div class="label-with-icon">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                            </svg>
                            <label>Phone Number <span class="required">*</span></label>
                        </div>
                        <input type="tel" id="phone" name="phone" placeholder="Please type in a valid phone number" required>
                        <div class="error-message" id="phoneError"></div>
                    </div>

                    <!-- WhatsApp number -->
                    <div class="form-group">
                        <div class="label-with-icon">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                            </svg>
                            <label>WhatsApp Number <span class="required">*</span></label>
                        </div>
                        <input type="tel" id="waphone" name="waphone" placeholder="Please type in a valid WhatsApp phone number" required>
                        <div class="error-message" id="waphoneError"></div>
                    </div>

                    <!-- State -->
                    <div class="form-group">
                        <div class="label-with-icon">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <circle cx="12" cy="10" r="3"></circle>
                            </svg>
                            <label>State (Location) <span class="required">*</span></label>
                        </div>
                        <select id="state" name="state" required>
                            <option value="">Please Select Your State</option>
                            <option value="Abia">Abia</option>
                            <option value="Adamawa">Adamawa</option>
                            <option value="Akwa Ibom">Akwa Ibom</option>
                            <option value="Anambra">Anambra</option>
                            <option value="Bauchi">Bauchi</option>
                            <option value="Bayelsa">Bayelsa</option>
                            <option value="Benue">Benue</option>
                            <option value="Borno">Borno</option>
                            <option value="Cross River">Cross River</option>
                            <option value="Delta">Delta</option>
                            <option value="Ebonyi">Ebonyi</option>
                            <option value="Edo">Edo</option>
                            <option value="Ekiti">Ekiti</option>
                            <option value="Enugu">Enugu</option>
                            <option value="FCT">FCT</option>
                            <option value="Gombe">Gombe</option>
                            <option value="Imo">Imo</option>
                            <option value="Jigawa">Jigawa</option>
                            <option value="Kaduna">Kaduna</option>
                            <option value="Kano">Kano</option>
                            <option value="Katsina">Katsina</option>
                            <option value="Kebbi">Kebbi</option>
                            <option value="Kogi">Kogi</option>
                            <option value="Kwara">Kwara</option>
                            <option value="Lagos">Lagos</option>
                            <option value="Nasarawa">Nasarawa</option>
                            <option value="Niger">Niger</option>
                            <option value="Ogun">Ogun</option>
                            <option value="Ondo">Ondo</option>
                            <option value="Osun">Osun</option>
                            <option value="Oyo">Oyo</option>
                            <option value="Plateau">Plateau</option>
                            <option value="Rivers">Rivers</option>
                            <option value="Sokoto">Sokoto</option>
                            <option value="Taraba">Taraba</option>
                            <option value="Yobe">Yobe</option>
                            <option value="Zamfara">Zamfara</option>
                        </select>
                        <div class="error-message" id="stateError"></div>
                    </div>
                </div>

                <!-- Delivery Address -->
                <div class="form-group">
                    <div class="label-with-icon">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                            <polyline points="9,22 9,12 15,12 15,22"></polyline>
                        </svg>
                        <label>Delivery Address (Where You Want It Delivered To) <span class="required">*</span></label>
                    </div>
                    <textarea id="address" name="address" rows="3" placeholder="Please type in full address so we can process your order" required></textarea>
                    <div class="error-message" id="addressError"></div>
                </div>

                <!-- Total -->
                <div class="total-section">
                    <h3 id="totalAmount">Total: â‚¦22,000 Only</h3>
                </div>

                <!-- Ready Message -->
                <div class="ready-section">
                    <div class="ready-header">
                        <span class="package-emoji">ðŸ“¦</span>
                        <h3>Ready to receive your Scar and Stretch Mark cream in 4-24 hours?</h3>
                    </div>
                    <p>Click the button below to confirm your order. You'll pay only when it arrives.</p>
                </div>

                <!-- Confirm Button -->
                <button type="submit" class="confirm-button">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>
                    <span>Confirm & Place My Order</span>
                </button>

                <!-- Order Summary -->
                <div class="order-summary">
                    <h3>Order Summary</h3>
                    
                    <table class="summary-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Product</th>
                                <th>Number</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Scar and Stretch Mark (One Package)</td>
                                <td>1</td>
                                <td id="packagePrice">â‚¦22,000</td>
                            </tr>
                            <tr class="gray-row">
                                <td>2</td>
                                <td>Delivery Fee</td>
                                <td>-</td>
                                <td>FREE</td>
                            </tr>
                            <tr class="gray-row">
                                <td>3</td>
                                <td>Waybill</td>
                                <td>-</td>
                                <td>â‚¦0</td>
                            </tr>
                            <tr class="total-row">
                                <td colspan="3"><strong>TOTAL</strong></td>
                                <td id="summaryTotal"><strong>â‚¦22,000</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Final Confirm Button -->
                <button type="submit" class="confirm-button">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>
                    <span>Confirm & Place My Order</span>
                </button>

                <!-- Reviews -->
                <div class="reviews-section">
                    <div class="reviews-header">
                        <div class="customer-avatars">
                            <div class="avatar"></div>
                            <div class="avatar"></div>
                            <div class="avatar"></div>
                            <div class="avatar"></div>
                        </div>
                        <div class="rating-info">
                            <div class="stars">
                                <span class="star">â˜…</span>
                                <span class="star">â˜…</span>
                                <span class="star">â˜…</span>
                                <span class="star">â˜…</span>
                                <span class="star">â˜…</span>
                            </div>
                            <p><strong>4.96</strong> from <strong>14,000+</strong> reviews</p>
                        </div>
                    </div>

                    <!-- Testimonial -->
                    <div class="testimonial">
                        <div class="testimonial-header">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <h4>Customer Testimonial:</h4>
                        </div>
                        <blockquote>
                            "I almost didn't order because I thought it was just hype. But they delivered fast and the product worked. I'm glad I took it seriously!"
                        </blockquote>
                        <cite>â€” Chima, 28 (Imo)</cite>
                    </div>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const radios = document.querySelectorAll("input[name='package']");
            
            // Package price mapping
            const packagePrices = {
                'regular': 22000,
                'vip': 40000,
                'vvip': 58000
            };
            document.getElementById("name").addEventListener("input", function() {
            this.value = this.value.replace(/[^a-zA-Z\s]/g, '');
        });

        // Restrict phone and WhatsApp input to numbers only
        ["phone", "waphone"].forEach(id => {
            document.getElementById(id).addEventListener("input", function() {
                this.value = this.value.replace(/\D/g, '');
            });
        });

            // Load package from localStorage on page load
            const savedPrice = localStorage.getItem("selectedPrice");
            if (savedPrice) {
                radios.forEach(radio => {
                    if (radio.dataset.price === savedPrice) {
                        radio.checked = true;
                        updateSummary(Number(savedPrice));
                    }
                });
            } else {
                // Default to regular package
                updateSummary(packagePrices.regular);
                localStorage.setItem("selectedPrice", packagePrices.regular.toString());
            }

            // Listen for package changes
            radios.forEach(radio => {
                radio.addEventListener("change", function() {
                    if (this.checked) {
                        const price = Number(this.dataset.price);
                        localStorage.setItem("selectedPrice", price.toString());
                        updateSummary(price);
                    }
                });
            });

            // Update summary function
            function updateSummary(price) {
                const formattedPrice = "â‚¦" + price.toLocaleString();
                
                // Update total display
                document.getElementById("totalAmount").textContent = "Total: " + formattedPrice + " Only";
                
                // Update summary table
                document.getElementById("packagePrice").textContent = formattedPrice;
                document.getElementById("summaryTotal").innerHTML = "<strong>" + formattedPrice + "</strong>";
            }

            // Form submission
            document.getElementById("orderForm").addEventListener("submit", function(event) {
                event.preventDefault();

                // Validate form
                if (!validateForm()) {
                    return;
                }

                const scriptURL = "https://script.google.com/macros/s/AKfycbyH8T3ThC-dNr6m878LXIoSJLFK4kxpcHzhZEqcDmFZHJrLd-CiRZrAnPpNUEYmRo4k9A/exec";
                
                // Get selected package details
                const selectedPackageRadio = document.querySelector("input[name='package']:checked");
                const packageText = selectedPackageRadio.nextElementSibling.textContent.trim();

                // Prepare form data
                const formData = new FormData();
                formData.append('name', document.getElementById("name").value.trim());
                formData.append('phone', document.getElementById("phone").value.trim());
                formData.append('waphone', document.getElementById("waphone").value.trim());
                formData.append('address', document.getElementById("address").value.trim());
                formData.append('state', document.getElementById("state").value);
                formData.append('package', packageText);

                // Disable buttons during submission
                const buttons = document.querySelectorAll(".confirm-button");
                buttons.forEach(btn => {
                    btn.disabled = true;
                    btn.style.opacity = "0.6";
                    btn.querySelector("span").textContent = "Submitting Your Order...";
                });

                // Submit to Google Sheets
                fetch(scriptURL, {
                    method: "POST",
                    body: formData
                })
                .then(response => response.text())
                .then(result => {
                    window.location.href = "success.html";
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert("Something went wrong. Please try again or contact us directly.");
                })
                .finally(() => {
                    // Re-enable buttons
                    buttons.forEach(btn => {
                        btn.disabled = false;
                        btn.style.opacity = "1";
                        btn.querySelector("span").textContent = "Confirm & Place My Order";
                    });
                });
            });

            // Form validation function
            function validateForm() {
                let isValid = true;
                
                // Clear previous errors
                document.querySelectorAll('.error-message').forEach(error => {
                    error.textContent = '';
                });

                // Validate name
                const name = document.getElementById("name").value.trim();
                if (!name) {
                    document.getElementById("nameError").textContent = "Name is required";
                    isValid = false;
                }

                // Validate phone
                const phone = document.getElementById("phone").value.trim();
                if (!phone) {
                    document.getElementById("phoneError").textContent = "Phone number is required";
                    isValid = false;
                }

                // Validate WhatsApp phone
                const waphone = document.getElementById("waphone").value.trim();
                if (!waphone) {
                    document.getElementById("waphoneError").textContent = "WhatsApp number is required";
                    isValid = false;
                }

                // Validate state
                const state = document.getElementById("state").value;
                if (!state) {
                    document.getElementById("stateError").textContent = "State is required";
                    isValid = false;
                }

                // Validate address
                const address = document.getElementById("address").value.trim();
                if (!address) {
                    document.getElementById("addressError").textContent = "Delivery address is required";
                    isValid = false;
                }

                return isValid;
            }
        });
    </script>
</body>
</html>